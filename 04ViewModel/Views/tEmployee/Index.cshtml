@*@model IEnumerable<_04ViewModel.ViewModels.EmpDept>*@

@model _04ViewModel.ViewModels.EmpDept

@{
    ViewBag.Title = "員工管理作業";
}

<h2 class="alert alert-info text-center">員工管理作業</h2>


<div class="row well">
    <div class="col-xs-3">
        
        <ul class="list-group text-center">
            <li class="list-group-item" ><h4 class="text-danger">部門</h4></li>
            @foreach (var item in Model.department)
            {
                <li class="list-group-item"><a class="menu" href="/tEmployee/Index?deptId=@item.fDepId">@item.fDepName</a></li>
            }
        </ul>
    </div>
    <div class="col-xs-9">
        <p class="text-right">
            @Html.ActionLink("新增員工資料", "Create", new { fDepId= ViewBag.deptId }, new { @class = "btn btn-primary" })
        </p>
        <h3 class="text-center">@ViewBag.deptName</h3>

        @if (Model.employee.Count ==0)
        {
            <h3 class="text-danger text-center">目前沒有任何員工</h3>
        }
        else
        {
            <table class="table">
                <tr >
                    <th class="text-center">@Html.DisplayNameFor(model => model.employee.FirstOrDefault().fEmpId)</th>
                    <th class="text-center">@Html.DisplayNameFor(model => model.employee.FirstOrDefault().fName)</th>
                    <th class="text-center">@Html.DisplayNameFor(model => model.employee.FirstOrDefault().fPhone)</th>
                    <th class="text-center">資料管理</th>
                </tr>

                @foreach (var item in Model.employee)
                {
                    <tr class="text-center">
                        <td>
                            @item.fEmpId
                        </td>
                        <td>
                            @item.fName
                        </td>
                        <td>
                            @item.fPhone
                        </td>
                        <td>
                            @Html.ActionLink("修改", "Edit", new { id=item.fEmpId }, new { @class = "btn btn-warning" })

                            @Html.ActionLink("刪除", "Delete", new { id= item.fEmpId }, new { @class = "btn btn-danger",onclick="return confirm('確定刪除？')" })
                        </td>
                    </tr>
                }
            </table>
        }
    </div>
</div>

@section CSS{
    <style>
        .menu:hover{
            background-color:greenyellow;
            display:block;  
        }
    </style>
    }